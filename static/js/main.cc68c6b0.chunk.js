(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c=n(7),r=n.n(c),s=n(3),o=n(15),a=n(5),u=n(10),i=n(14),l="SET_USER",d="SET_TODOS",j=function(e){return{type:"SET_USER",payload:e}},b={todos:[],userId:0},p=Object(u.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(a.a)(Object(a.a)({},e),{},{userId:t.payload});case d:return Object(a.a)(Object(a.a)({},e),{},{todos:t.payload});default:return e}}),Object(i.composeWithDevTools)()),h=p,O=n(0),f=(n(23),n(24),n(4)),m=n(12),x=n(6),v=n.n(x),_=function(){var e=Object(m.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate.academy/students-api/todos");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(m.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://mate.academy/students-api/users","/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){return e.userId},N=function(e){return e.todos},S=(n(26),n(1)),w=function(){var e=Object(O.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],r=Object(O.useState)(""),o=Object(f.a)(r,2),a=o[0],u=o[1],i=Object(s.b)(),l=Object(s.c)(T),d=Object(s.c)(N).filter((function(e){return e.title.includes(n)})).filter((function(e){switch(a){case"active":return!1===e.completed;case"completed":return!0===e.completed;default:return e}}));return Object(O.useEffect)((function(){_().then((function(e){return i({type:"SET_TODOS",payload:e})}))}),[]),Object(S.jsxs)("div",{className:"TodoList",children:[Object(S.jsx)("h2",{children:"Todos:"}),Object(S.jsx)("h2",{children:"Ps: users 2 and 8888 do not exist for some reason"}),Object(S.jsx)("input",{"data-cy":"filterByTitle",type:"text",value:n,onChange:function(e){c(e.target.value)},placeholder:"Search by title"}),Object(S.jsxs)("select",{value:a,onChange:function(e){return u(e.target.value)},children:[Object(S.jsx)("option",{value:"all",children:"Show all"}),Object(S.jsx)("option",{value:"active",children:"Show all uncompleted"}),Object(S.jsx)("option",{value:"completed",children:"Show all completed"})]}),Object(S.jsx)("div",{className:"TodoList__list-container",children:Object(S.jsx)("ul",{"data-cy":"listOfTodos",className:"TodoList__list",children:null===d||void 0===d?void 0:d.map((function(e){return Object(S.jsxs)("li",{className:e.completed?"TodoList__item TodoList__item--checked":"TodoList__item TodoList__item--unchecked",children:[Object(S.jsxs)("label",{children:[Object(S.jsx)("input",{checked:e.completed,type:"checkbox",readOnly:!0}),Object(S.jsx)("p",{children:e.title})]}),Object(S.jsxs)("button",{"data-cy":"userButton",className:l===e.userId?"TodoList__user-button TodoList__user-button--selected button":"TodoList__user-button button",type:"button",onClick:function(){return e.userId!==l?i(j(e.userId)):null},children:["User\xa0#",e.userId]})]},e.id)}))})})]})},L=(n(28),function(){var e=Object(O.useState)(null),t=Object(f.a)(e,2),n=t[0],c=t[1],r=Object(s.b)(),o=Object(s.c)(T);return Object(O.useEffect)((function(){y(o).then((function(e){return c(e)}))}),[o]),Object(S.jsxs)("div",{className:"CurrentUser",children:[Object(S.jsx)("h2",{className:"CurrentUser__title",children:Object(S.jsx)("span",{children:"Selected user: ".concat(null===n||void 0===n?void 0:n.id)})}),Object(S.jsx)("h3",{"data-cy":"userName",className:"CurrentUser__name",children:null===n||void 0===n?void 0:n.name}),Object(S.jsx)("p",{className:"CurrentUser__email",children:null===n||void 0===n?void 0:n.email}),Object(S.jsx)("p",{className:"CurrentUser__phone",children:null===n||void 0===n?void 0:n.phone}),Object(S.jsx)("button",{type:"button",className:"TodoList__user-button button",onClick:function(){return r(j(0))},children:"Clear"})]})}),k=function(){var e=Object(s.c)(T),t=Object(s.c)(N);return Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)("div",{className:"App__sidebar",children:Object(S.jsx)(w,{})}),Object(S.jsx)("div",{className:"App__content",children:Object(S.jsx)("div",{className:"App__content-container",children:t.find((function(t){return t.userId===e}))?Object(S.jsx)(L,{}):"No user selected"})})]})},C=function(){return Object(S.jsx)(s.a,{store:h,children:Object(S.jsx)(o.a,{children:Object(S.jsx)(k,{})})})};r.a.render(Object(S.jsx)(C,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.cc68c6b0.chunk.js.map